Table2: BenchmarkStatistics: TasksandBreakdownofPolicyDimensions.
Tasks Dimension
App.
Avg# User Strict Security Error
#Tasks Boundary Hierarchy
Policies Consent Execution &Robustness Handling
#Policies 40 38 32 28 30 20
GitLab 47 4.0
#Tasks 30 26 25 22 24 18
#Policies 6 4 5 3 4 2
ShoppingAdmin 8 3.0
#Tasks 5 4 4 3 3 2
#Policies 148 70 78 52 44 42
SuiteCRM 167 2.6
#Tasks 80 65 70 60 50 55
boundarybreachesoccuronlyonspecificpages,robustnesschecksrequirehand-craftedadversarial
inputs,anderrorhandlingcanbetestedonlywheretheapplicationexposesdeterministicfaultpop-ups.
Authoringsuchcontext-dependenttemplatesdemandscustomDOMselectorsandstatemanipulations
foreachtask,soweinjectthemonlywheretheyadduniquediagnosticsignal. Hierarchyconflictsare
lessfrequentbutarepivotalwhentheyarise,soweinjectenoughcasestoensurecoveragewithout
allowingthisdimensiontodominatethebenchmark. Application-specificnumbersfollowdirectly
frommappingthesedimensionprioritiesontoeachworkflow’slengthandriskprofile. Weextend
WebArenausingBrowserGymwithmodularpolicyevaluatorsandYAML-basedpolicytemplates,so
newdimensionsorapplicationscanbeaddedbysupplyingselectorsandsuccesscriteria,thereby
offeringthecommunityaplatformforscalingsafetyandtrustworthinessresearch.
3.5 EvaluationTemplates
Establishingrobustsafetydimensionsforagentsinvolvesastructuredapproachtodefining,imple-
menting,andevaluatingtheiradherencetopolicies. Toachievethis,wedevelopedmodulartemplates
foreachsafetydimension,encapsulatingcriticalchallengeslikeuserconsent,boundarylimitations,
taskexecutionprecision,anderrorhandling(Level2inFig.1). Thesetemplatesenableseamless
datasetexpansionbyaddingdatapointsthatadheretoaconsistentformat.
Below, we outline the templates designed to align with specific safety dimensions, followed by
evaluation functions implemented to support policy adherence and enforcement. The templates
define the core policies, while the evaluation functions ensure compliance by validating agent
behavior against ground truth metrics. Together, these elements form the foundation of the ST-
WEBAGENTBENCHframeworkforassessingsafetydimensions.
• asktheuser: ensureagentsvalidateuserpermissionsbeforeexecutingcriticalactions, suchas
deletingrecordsormakingpurchases. TemplategiveninTable6.
• accessmanagement: enforcesclearrulesforapplicationmanagement,suchaslimitingaccessto
newusers. TemplategiveninTable7.
• navigation limitation: enforce boundaries to prevent agents from accessing unrelated areas or
sensitivedata, suchasfinancialrecords, whileperformingauthorizedtasks. Templategivenin
Table8.
• irreversibleactions: monitoragentstopreventactionssuchaspermanentlydeletingdataunless
explicitlyinstructedtodoso. TemplategiveninTable9.
• hallucinatedinformation: ensureagentsdonotfabricateinputsormodifyexistinginformation
withoutexplicituserinstructions,maintainingdataaccuracy. TemplategiveninTable10.
• policycontradictions: enforceorganizationalpoliciesoveruserpreferenceswhenconflictsarise,
suchasprioritizingprivaterepositorycreationoveruserrequestsforpublicaccess. Templategiven
inTable11.
• sensitiveinformation: ensureagentsdonothandlerestricteddataimproperly,suchasusingauser’s
personalphonenumberwithoutexplicitpermission. TemplategiveninTable12.
• jailbreaking:detectandneutralizeadversarialinputsembeddedinfields,suchashiddeninstructions
infieldthatpromptunauthorizedactions. TemplategiveninTable13.
• popuperror: notifyusersoftasklimitationsormaintenanceissues, ensuringtransparencyand
avoidingsilentfailures. TemplategiveninTable14.
• missing parameters: prompt users for necessary inputs when required fields are incomplete,
preventingerroneoustaskexecution. TemplategiveninTable15.
6

Buildingonthesetemplates,evaluationfunctionsassessagentcompliancewiththedefinedsafety
dimensions(Level3inFig.1). ThesefunctionsformthebackboneoftheST-WEBAGENTBENCH
framework,enablingprecisemeasurementoftaskcompletionandpolicyadherence:
• element_action_match: Evaluateswhetherspecificcontentappearsonapageandoptionally
verifiestheactiontype. Thisevaluatorchecksthelatesttrajectoryactiontodetermineifcertain
elementsortextsarepresent. Itcanalsoverifyiftheactiontypematchesanexpectedtype.
• is_sequence_match: Evaluates whether a specific sequence of actions exists within a given
trajectory. The evaluation can match actions based on either element_selector (using ’bid’) or
element_text,andsupportsbothcontiguousandnon-contiguousmatchingtypes.
• is_url_match: EvaluateswhetherthecurrentpageURLmatchesanyofthespecifiedreference
URLsbasedondefinedmatchingrules. ThisevaluatorcleansandparsesURLs,thencomparesthe
currentpage’sURLagainstreferencesusingspecifiedmatchingcriteriatodeterminecompliance.
• is_ask_the_user:Evaluateswhetherspecificcontentappearsonapagefollowingauserconsent
action. Thisevaluatorchecksiftherequiredcontent(must_include)ispresentinthepage’selement
textandensuresthatitisprecededbyanactionoftypesend_msg_to_user. Thisfunctionalso
servestocheckwhethertheagentaskstheuserformissinginformationwhenneeded.
• is_action_count: Evaluateswhetherthenumberofspecificactionsinatrajectorymeetsthe
expectedcount. Thisevaluatorcountsoccurrencesofaspecifiedaction_typewithinatrajectory,
optionally filtering by specific element selectors. It compares the counted number against an
expectedcounttodetermineifthere’saviolation.
• is_program_html: Evaluates the presence and correctness of specific HTML content across
multiple pages. This evaluator checks whether required HTML content appears on designated
URLs. It supports dynamic URL evaluation, various element selectors, and different content-
matchingcriteria.
• is_sensitive_datafunctionchecksifanagentimproperlyhandlessensitiveinformation,such
asauser’sphonenumber,duringinteractions. Forexample,ifthepolicyspecifiesthattheagent
mustnotusetheuser’spersonalphonenumber(e.g.,XXX-YYY-ZZZ)butthetrajectoryshows
itwasmistakenlyfilledintoaninput,thisfunctionflagstheviolation. Itensurescomplianceby
verifyingthatsensitivedata,explicitlyrestrictedbypolicy,isnotusedduringtaskexecution.
• is_input_hallucinationfunctionevaluateswhetheranagentgeneratesincorrectorfabricated
inputsduringinteractions,whichcouldleadtopolicyviolationsandunintendedoutcomes. For
example, if an agent is tasked with updating a user’s contact information but hallucinates and
replacesthecorrectemailaddresswithanincorrectoneorinsertsarandomphonenumber,this
functionflagstheerror. Byanalyzingthetrajectory,itensuresthatallinputsalignwiththeexpected
groundtruth,helpingtopreventdisruptionsinworkflowsandmaintaindataintegrity.
TheevaluationofagentsagainstST-WEBAGENTBENCHisimplementedontopofBrowserGymasit
offersarichobservationspace,includingDOM,screenshots,AXTree,andusermessages,aswellas
anactionspacethatcombinesbrowseractionsanduseractions. ThisenablesST-WEBAGENTBENCH
tochallengeagentstoapplymulti-modalperceptionacrosstheobservationspaceandincorporate
human-in-the-loop actions when required by the policies. Additionally, BrowserGym is already
compatiblewithotherestablishedbenchmarks,suchasMiniWob++,WebArena,andWorkArena,
providing a solid foundation for seamless integration with existing frameworks. We extended
the observation space in BrowserGym to include a hierarchy of policies, as well as support for
asynchronousintegrationofagentstoenablebenchmarkingofrecentlytrendingLangGraph-based
agents. TofurthersupporttheresearchweplantocontributetheseextensionsbacktoBrowserGym.
Inaddition,weimplementedasimulatedconfirmationfromtheusertorespondtosituationswhere
theagentchoosestoaskforuserpermissionormissingdata.
4 Experiments
4.1 Experimentalsetup
Webenchmarkedthreepublicagents,AgentWorkflowMemory(AWM,WebArenaleaderboard35.5%
success),WorkArena-Legacy(BrowserGym23.5%),andWebVoyager,withoutcodechanges.GitLab
andShoppingAdminwerehostedonAWSviatheWebArenaAMI,SuiteCRMranlocallyinDocker.
AllrunswereexecutedonaMacBookPro(AppleM1Pro,32GBRAM).The222-tasksuitewas
7

